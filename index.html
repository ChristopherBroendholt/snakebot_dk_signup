<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles.css">
    <title>Danish Snakebot Championship</title>
</head>

<script>
    let signed_up = false

    window.addEventListener("load", () => {

        let url = "https://docs.google.com/forms/u/0/d/e/1FAIpQLScpgfvCRqHilctHXQHNHyqR_8EK8hmOWzcJZjs6VH6ZBa8IWw/formResponse"; //action url
        let form = document.querySelector("#formId"); //form element

        console.log(form)

        form.addEventListener("submit", (e) => {
            e.preventDefault();//prevent default behaviour

            let bodyData = getInputData();
            if (bodyData === undefined) {
                return
            }

            fetch(url, {
                method: "POST",
                mode: "no-cors",
                header: {
                    'Content-Type': 'application/json'
                },
                body: bodyData
            })
                .then(signed_up = true)
                .catch(); //promise based
        });

        //populating input data
        function getInputData() {
            let dataToPost = new FormData(); //formdata API

            let name = document.getElementById("input1").value
            let email = document.getElementById("input2").value
            let dietaryRestrictions = document.getElementById("input3").value

            if (name === "") {
                alert("Name is required")
                return undefined;
            }
            else if (email === "") {
                alert("Email is required")
                return undefined
            }
            else if (email === "" && name === "") {
                alert("Email and name is required")
                return undefined;
            }

            //fill name attributes to corresponding values
            dataToPost.append("entry.2100287075", name);
            dataToPost.append("entry.1074724636", email);
            dataToPost.append("entry.730702305", dietaryRestrictions)

            return dataToPost;
        }
    })

    function setHeight(px) {
        const iframe = document.getElementById("google-form")
        iframe.setAttribute("height", `${px}px`)
    }
</script>

<body>
    <div class="root">
        <header class="navbar-startpage">
            <a href="/"><img src="./assets/snakelogo.png" alt="Snakebot-logo"></a>
            <nav>
                <ul>
                    <!-- <li><a aria-current="page" class="selected" href="/">Start</a></li>
                    <li><a class="" href="/viewgame">Game</a></li>
                    <li><a class="" href="/arena">Arena</a></li>
                    <li><a class="" href="/login">Login</a></li> -->
                </ul>
            </nav>
        </header>

        <section>
            <div class="header-image">
                <div class="header-content">
                    <h1>Welcome to Danish Snakebot Competition for Students!</h1>
                    <img src="./assets/cygni-logo.svg" alt="cygni-logo">

                </div>
            </div>
            <div class="getting-started">
                <h1>Participate</h1>
                <p>Sign up for the next Danish Snakebot Championship hosted by Cygni, part of accenture.</p>

                <form id="formId" class="form-container">
                    <div class="form-input-container">
                        <label for="input1" style="color: white;">Name *</label>
                        <input required type="text" id="input1" name="entry.2100287075" placeholder="your name" />
                    </div>
                    <div class="form-input-container">
                        <label for="input2" style="color: white;">Email *</label>
                        <input required type="email" id="input2" name="entry.1074724636" placeholder="snake@bot.com" />
                    </div>
                    <div class="form-input-container">
                        <label for="input2" style="color: white;">Dietary restrictions</label>
                        <input type="text" id="input3" name="entry.730702305" placeholder="vegan, nut allergy..." />
                    </div>
                    <div class="form-input-container">
                        <input type="submit" value="Submit" />
                    </div>
                </form>

                <h2>Event information</h2>


                <table class="customTable">
                    <colgroup>
                        <col style="width:20%">
                        <col style="width:80%">
                      </colgroup> 
                    <tbody>
                        <tr>
                            <td>Date</td>
                            <td>10. January 2023</td>
                        </tr>
                        <tr>
                            <td>Time</td>
                            <td>18.00-21.00</td>
                        </tr>
                        <tr>
                            <td>Location</td>
                            <td>Bohrsgade 35, 1799 Kbh V (Carlsbergbyen)</td>
                        </tr>
                        <tr>
                            <td>Food</td>
                            <td>Yes</td>
                        </tr>
                        <tr>
                            <td>Snakes</td>
                            <td>Yes</td>
                        </tr>
                    </tbody>
                </table>
                <!-- Generated at CSSPortal.com -->



            </div>
            <div class="welcome">
                <h1>Introduction</h1>
                <p>Remember the old game of Snake? One of the first common implementations was available on the phone
                    Nokia 3310.
                    Snake Record - Nokia 3310</p>
                <p>This game is a bit different. To play you need to program your own Snake Bot and you will be
                    competing against
                    other bots! The concept is simple, your snake can move UP, DOWN, RIGHT or LEFT and the winner is the
                    last snake
                    alive. Extra points are awarded when eating stars or nibbling on other snake's tails. Look out for
                    the black
                    holes though!</p>
                <p>Checkout the screencasts below:</p><iframe width="560" height="315"
                    src="https://www.youtube.com/embed/9FGxNwOONIc" title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen=""></iframe>
                <p>We at Cygni love programming. We also love a friendly competetion over a couple of beers. What better
                    way to
                    combine these two things than a battle in programming!</p>
                <p>Hack your own Snake Bot and train it in the Training room. From time to time we hold tournaments
                    where you will
                    be able to face other player's Snake Bots.</p>
                <h2>Game rules</h2>
                <p>The rules are configurable per game, upon every game start the clients will be notified of the
                    current game
                    settings. Here are the default rules:</p>
                <ul>
                    <li>Snake grows every third game tick</li>
                    <li>Each client must respond within 250ms</li>
                    <li>1 point per Snake growth</li>
                    <li>2 points per star consumed</li>
                    <li>10 points per tail nibble</li>
                    <li>5 points per caused death (another snake crashes and dies into your snake)</li>
                    <li>5 black holes</li>
                    <li>A nibbled tail is protected for 3 game ticks</li>
                    <li>The last surviving Snake always wins. The ranking for dead snakes is based on accumulated points
                    </li>
                </ul>
            </div>
            <div class="getting-started">
                <h1>Getting started</h1>
                <p>Your mission is to write the best Snake Bot and survive within the game world. All the boring stuff
                    concerning
                    server-client communication, message parsing and event handling is already implemented.</p>
                <h2>General principles</h2>
                <p>The game progresses through Game Ticks. For each Game Tick participating Snake Bots have to choose an
                    action (and
                    they have to do it fast, response is expected within 250ms). Actions are defined by a direction to
                    move the
                    Snake head in. A Snake head may move UP, DOWN, RIGHT or LEFT.</p>
                <p>On every Game Tick each Snake Bot receives the current Map. The map contains the positions of all the
                    objects in
                    the map.</p>
                <h2>JavaScript client</h2>
                <p>The client is written in JavaScript and the project can be cloned through the GitHub repository via
                    the image
                    link below. We recommend using VS Code for editing this project but feel free to use any editor you
                    prefer. The
                    project has a Readme file that explains how to get going.</p><a
                    href="https://github.com/cygni/snakebot-client-js"><img class="gitlogo" src="./assets/gitlogo.png"
                        alt="github-logo"></a>
            </div>
        </section>

        <section class="section-two">

        </section>

    </div>
</body>

</html>